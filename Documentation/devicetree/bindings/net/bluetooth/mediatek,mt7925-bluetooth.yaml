# SPDX-License-Identifier: (GPL-2.0 OR BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/net/bluetooth/mediatek,mt7925-bluetooth.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Bluetooth mediatek use BT_KILL_1V2_L hardware pin to reset BT

maintainers:
  - Sean Wang <sean.wang@mediatek.com>

description:
  MT7925 modules provides hardware pin called W_DISABLE#2 to reset Bluetotoh,
  two methods are used to reset Bluetooth. When an exception occurs, resetting
  Bluetooth by hardware pin is more stable than resetting Bluetooth by software.

allOf:
  - $ref: bluetooth-controller.yaml#

properties:
  compatible:
    enum:
      - mediatek,mt7925-bluetooth

  reset-gpios:
    maxItems: 1
    description:
      This pin can is used to externally reset BT function. When pull low,
      the Bluetooth and USB interface will be also disabled. After 100ms,
      it is pulled high to 3.3V to re_enable the device and trigger the
      next probe. This is typically used on M.2 key E modules.

required:
  - compatible
  - reset-gpios

unevaluatedProperties: false

examples:
  - |
    #include <dt-bindings/gpio/gpio.h>

    bluetooth {
      compatible = "mediatek,mt7925-bluetooth";
      #gpio-cells = <2>;
      reset-gpios = <&pio 248 GPIO_ACTIVE_LOW>;
    };
